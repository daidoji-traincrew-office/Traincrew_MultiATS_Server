root = true

# すべてのファイル
[*]
charset = utf-8
insert_final_newline = true
trim_trailing_whitespace = true

# C# ファイル
[*.cs]

#### コアEditorConfig オプション ####

indent_style = space
indent_size = 4

#### コードスタイル規則 ####

# 型が明確な場合はnewに書く型名を省略とする
csharp_style_implicit_object_creation_when_type_is_apparent = true:suggestion

# var の使用
csharp_style_var_for_built_in_types = true:suggestion
csharp_style_var_when_type_is_apparent = true:suggestion
csharp_style_var_elsewhere = true:suggestion

# コレクション式の使用（C# 12+）
dotnet_style_prefer_collection_expression = when_types_loosely_match:warning

# コレクション初期化子の使用
dotnet_style_collection_initializer = true:warning

#### 命名規則 ####

# プライベートフィールドはアンダースコアで始める
dotnet_naming_rule.private_fields_with_underscore.symbols = private_fields
dotnet_naming_rule.private_fields_with_underscore.style = underscore_prefix
dotnet_naming_rule.private_fields_with_underscore.severity = warning

dotnet_naming_symbols.private_fields.applicable_kinds = field
dotnet_naming_symbols.private_fields.applicable_accessibilities = private

dotnet_naming_style.underscore_prefix.capitalization = camel_case
dotnet_naming_style.underscore_prefix.required_prefix = _

# ローカル変数・パラメータはキャメルケース
dotnet_naming_rule.locals_should_be_camel_case.symbols = locals_and_parameters
dotnet_naming_rule.locals_should_be_camel_case.style = camel_case_style
dotnet_naming_rule.locals_should_be_camel_case.severity = suggestion

dotnet_naming_symbols.locals_and_parameters.applicable_kinds = parameter, local

dotnet_naming_style.camel_case_style.capitalization = camel_case

# メソッド・プロパティはパスカルケース
dotnet_naming_rule.methods_should_be_pascal_case.symbols = methods_and_properties
dotnet_naming_rule.methods_should_be_pascal_case.style = pascal_case_style
dotnet_naming_rule.methods_should_be_pascal_case.severity = warning

dotnet_naming_symbols.methods_and_properties.applicable_kinds = method, property

dotnet_naming_style.pascal_case_style.capitalization = pascal_case

# インターフェースは I で始める
dotnet_naming_rule.interface_should_be_begins_with_i.symbols = interface
dotnet_naming_rule.interface_should_be_begins_with_i.style = begins_with_i
dotnet_naming_rule.interface_should_be_begins_with_i.severity = warning

dotnet_naming_symbols.interface.applicable_kinds = interface

dotnet_naming_style.begins_with_i.required_prefix = I
dotnet_naming_style.begins_with_i.capitalization = pascal_case

# 型（クラス、構造体、列挙型など）はパスカルケース
dotnet_naming_rule.types_should_be_pascal_case.symbols = types
dotnet_naming_rule.types_should_be_pascal_case.style = pascal_case_style
dotnet_naming_rule.types_should_be_pascal_case.severity = warning

dotnet_naming_symbols.types.applicable_kinds = class, struct, interface, enum

# 定数はパスカルケース
dotnet_naming_rule.constant_fields_should_be_pascal_case.symbols = constant_fields
dotnet_naming_rule.constant_fields_should_be_pascal_case.style = pascal_case_style
dotnet_naming_rule.constant_fields_should_be_pascal_case.severity = warning

dotnet_naming_symbols.constant_fields.applicable_kinds = field
dotnet_naming_symbols.constant_fields.required_modifiers = const

#### その他のコードスタイル規則 ####

# 式本体の使用
csharp_style_expression_bodied_methods = false:silent
csharp_style_expression_bodied_constructors = false:silent
csharp_style_expression_bodied_operators = false:silent
csharp_style_expression_bodied_properties = true:silent
csharp_style_expression_bodied_indexers = true:silent
csharp_style_expression_bodied_accessors = true:silent

# パターンマッチングの優先
csharp_style_pattern_matching_over_is_with_cast_check = true:suggestion
csharp_style_pattern_matching_over_as_with_null_check = true:suggestion

# null チェック
csharp_style_throw_expression = true:suggestion
csharp_style_conditional_delegate_call = true:suggestion

# 修飾子の設定
csharp_preferred_modifier_order = public,private,protected,internal,static,extern,new,virtual,abstract,sealed,override,readonly,unsafe,volatile,async:suggestion

# 括弧の設定
dotnet_style_parentheses_in_arithmetic_binary_operators = always_for_clarity:silent
dotnet_style_parentheses_in_relational_binary_operators = always_for_clarity:silent
dotnet_style_parentheses_in_other_binary_operators = always_for_clarity:silent
dotnet_style_parentheses_in_other_operators = never_if_unnecessary:silent

# フォーマット規則
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true

csharp_space_after_cast = false
csharp_space_after_keywords_in_control_flow_statements = true

# 複合文には必ず波括弧を使用
csharp_prefer_braces = true:warning
