-- Rename "direction_lever" to "direction_route"
ALTER TABLE "direction_lever" RENAME TO "direction_route";
-- Rename "direction_lever_state" to "direction_route_state"
ALTER TABLE "direction_lever_state" RENAME TO "direction_route_state";
-- Modify "direction_route" table
ALTER TABLE "direction_route" DROP CONSTRAINT "direction_lever_direction_self_control_lever_id_fkey", DROP CONSTRAINT "direction_lever_id_fkey", DROP CONSTRAINT "direction_lever_l_lock_lever_id_fkey", DROP CONSTRAINT "direction_lever_l_single_locked_lever_id_fkey", DROP CONSTRAINT "direction_lever_r_lock_lever_id_fkey", DROP CONSTRAINT "direction_lever_r_single_locked_lever_id_fkey", ADD CONSTRAINT "direction_route_direction_self_control_lever_id_fkey" FOREIGN KEY ("direction_self_control_lever_id") REFERENCES "direction_self_control_lever" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, ADD CONSTRAINT "direction_route_id_fkey" FOREIGN KEY ("id") REFERENCES "interlocking_object" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, ADD CONSTRAINT "direction_route_l_lock_lever_id_fkey" FOREIGN KEY ("l_lock_lever_id") REFERENCES "direction_route" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, ADD CONSTRAINT "direction_route_l_single_locked_lever_id_fkey" FOREIGN KEY ("l_single_locked_lever_id") REFERENCES "direction_route" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, ADD CONSTRAINT "direction_route_r_lock_lever_id_fkey" FOREIGN KEY ("r_lock_lever_id") REFERENCES "direction_route" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, ADD CONSTRAINT "direction_route_r_single_locked_lever_id_fkey" FOREIGN KEY ("r_single_locked_lever_id") REFERENCES "direction_route" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION;
-- Modify "direction_route_state" table
ALTER TABLE "direction_route_state" DROP CONSTRAINT "direction_lever_state_id_fkey", ADD CONSTRAINT "direction_route_state_id_fkey" FOREIGN KEY ("id") REFERENCES "direction_route" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION;
